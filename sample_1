import pandas as pd
import nltk
import re
from nltk.corpus import words

# Download nltk corpus if not already downloaded
nltk.download('words')

# Load English words from nltk corpus
valid_words = set(words.words())

def split_into_words(text):
    result = []
    i = 0

    # Separate numbers and letters (e.g., O2saturatedquantity -> ['O', '2', 'saturated', 'quantity'])
    parts = re.findall(r'[A-Za-z]+|\d+', text)

    for part in parts:
        if part.isdigit():
            result.append(part)
            continue
        
        temp = ''
        j = 0
        while j < len(part):
            match = ''
            # Try longest match first
            for k in range(len(part), j, -1):
                if part[j:k] in valid_words:
                    match = part[j:k]
                    result.append(match)
                    j = k  # Jump to the next section after the match
                    temp = ''
                    break

            # If no match is found, append remaining part as is
            if not match:
                temp = part[j:]  # Grab the rest of the substring
                j = len(part)    # Skip to the end
                result.append(temp)  
                temp = ''
    
    return ' '.join(result)

# Test
print(split_into_words('SIGNATURESOURCECODE1'))
